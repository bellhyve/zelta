# zelta-opts.tsv
#
# Format: VERBS (comma sep) | FLAGS (comma sep) | KEY | TYPE | VALUE | MSG
# Types:
#   true    : Set KEY="yes"
#   false   : Set KEY="no"
#   set     : Set KEY="VALUE" else KEY="subopt"
#   arglist : Append argument sent to KEY separated by " "
#   list    : Append subopt to KEY separated by ","
#   incr    : Increment
#   decr    : Decrement
#   invalid : Report error and quit
# =============================================================================
# VERBS	FLAGS	KEY	KEY_ALIAS	TYPE	VALUE	DESCRIPTION	WARNING
# -------------------------------------------------------------
# Global/Generic Options
all	-v,--verbose	LOG_LEVEL		incr		Increase verbosity. Specify once for operational detail and twice (-vv) for debug output.
all	-q,--quiet	LOG_LEVEL		decr		Quiet output. Specify once to suppress warnings and twice (-qq) to suppress errors.
all	--log-level	LOG_LEVEL		set		Specify a log level value 0-4: errors (0), warnings (1), notices (2, default), info (3, verbose), and debug (4).
all	--log-mode	LOG_MODE		set		Enable the specified log modes: 'text' and 'json' are currently supported.
all	--text	LOG_MODE		set	text	Force default output (notices) to print as plain text standard output.
all	--help,-h,-?	USAGE		true		Show usage output for the current verb. Also consider 'zelta help <topic>' to view a manual.
all	-n,--dryrun,--dry-run	DRYRUN		true		Display 'zfs' commands related to the action rather than running them.
all	-d,--depth	DEPTH		set		Limit the recursion depth of operations to the number of levels indicated. For example, a depth of 1 will only include the indicated dataset.
all	--exclude,-X	EXCLUDE		list		Exclude a /dataset/suffix, @snapshot, or #bookmark, beginning with the symbol indicated. Wild card matches with '?' and '*' are permitted. See 'zelta help match' for more details.
all	--yule	YULE		true

# Options for 'zelta backup' and other 'zfs send/recv/clone' verbs
policy,backup,replicate,sync,rotate	-j,--json	LOG_MODE		set	json	Print JSON output. Only 'zelta backup' is supported. See the 'zelta help backup' for details.
policy,backup,replicate,sync,rotate	-b,--backup,-c,--compressed,-D,--dedup,-e,--embed,-h,--holds,-L,--largeblock,-p,--parsable,--proctitle,--props,--raw,--skipmissing,-V,-w	SEND_OVERRIDE	arglist			Override all 'zfs send' options with those indicated. For precise and flexible configuration, use the ZELTA_SEND_* environment variables instead.
policy,backup,replicate,sync,rotate	--send-check	SEND_CHECK		true		Attempt to drop unsupported 'zfs send' options using a no-op test prior to replication. This feature is not fully implemented.
policy,backup,replicate,sync,rotate	-F	SEND_OVERRIDE		arglist	 		destructive option 'F' used; consider 'zelta rotate' when possible
policy,backup,replicate,sync,rotate	-e,-h,-M,-u	RECV_OVERRIDE		arglist		Override all 'zfs receive' options with those indicated. For precise and flexible configuration, use the ZELTA_RECV* environment variables instead.
policy,backup,replicate,sync,rotate	--rotate	VERB		set	rotate	Rename the target dataset and attempt to sync a clone via a delta provided by the source or source origin clone.
policy,backup,replicate,sync,rotate	-R,--replicate	VERB		set	replicate	Use 'zfs send --replicate' in a backup operation.
policy,backup,replicate,sync,rotate	-I	SEND_INTR	INTERMEDIATE	true		Sync all possible source snapshots, using 'zfs send -I' for updates. When disabled, only the newest snapshots will be synced.
policy,backup,replicate,sync,rotate	-i	SEND_INTR	INTERMEDIATE	false				
policy,backup,replicate,sync,rotate	--resume	RESUME		true		Enable (the default) or disable automatic resume of interrupted syncs.
policy,backup,replicate,sync,rotate	--no-resume	RESUME		false
policy,backup,replicate,snapshot,sync,revert,rotate,clone	--snap-name	SNAP_NAME		set		Specify a snapshot name. Use the form '$(my_snapshot_program)' to use a dynamically generated snapshot. The default is '$(date -u +zelta_%Y-%m-%d_%H.%M.%S)'.
policy,backup,replicate,sync,rotate,clone	--snap-mode	SNAP_MODE	SNAPSHOT	set		Specify when to snapshot during a 'zelta backup' operation. Specify '0' for never, 'IF_NEEDED', or 'ALWAYS'. 'IF_NEEDED', the default, does not snapshot if the source has no new data.
policy,backup,replicate,sync,rotate,clone	--no-snapshot	SNAP_MODE		false
policy,backup,replicate,sync,rotate,clone	--snapshot	SNAP_MODE		set	IF_NEEDED
policy,backup,replicate,sync,rotate,clone	--snapshot-always	SNAP_MODE		set	ALWAYS
policy,backup,replicate,sync,rotate,clone	--snapshot-skip	SNAP_MODE		set	SKIP
policy,backup,replicate,sync,rotate,clone	-s	SNAP_MODE		set	IF_NEEDED		option '-s' for '--snapshot' is ambiguous and will be deprecated; use --snapshot, --snapshot-skip, --partial, or --skip-missing (with -R)
policy,backup,replicate,sync,rotate,clone	-S	SNAP_MODE		set	ALWAYS		option '-S' for '--snapshot-always' is ambiguous will be deprecated; use --snapshot-always or --partial
policy,backup,replicate,sync,rotate	--sync-direction	SYNC_DIRECTION		set		If both endpoints are remote, use 'PULL' (the default) or 'PUSH' sync. See 'zelta help backup' for more details.
policy,backup,replicate,sync,rotate	--push	SYNC_DIRECTION		set	PUSH
policy,backup,replicate,sync,rotate	-t	SYNC_DIRECTION		set	PUSH		option '-t' is deprecated; use '--push'
policy,backup,replicate,sync,rotate	--pull	SYNC_DIRECTION		set	PULL
policy,backup,replicate,sync,rotate	-T	SYNC_DIRECTION		set	PULL		option '-T' is deprecated; use '--pull' (default)
policy,backup,replicate,sync,rotate	--initiator	INITIATOR		invalid			--initiator is deprecated; use '--pull' (default) or '--push'
policy,backup,replicate,sync,rotate	--recv-pipe	RECV_PIPE		set		Pipe output through the indicated command, such as 'dd status=progress'
policy,backup,replicate,sync,rotate	--progress			invalid			option '--progress' is deprecated; use '--use-recv-pipe'
policy,backup,replicate,sync,rotate	--rate-limit			invalid			option '--rate-limit' is deprecated; use '--use-recv-pipe'
policy,backup,replicate,sync,rotate	-z			invalid			option '-z' is deprecated; consider '--json'

# 'zelta match' options
match	-H	SCRIPTING_MODE		true		Suppress column headers and separate columns with a single tab.
match	-p	PARSABLE		true		Out sizes in exact numbers instead of human-readable values like '1M'.
match	-o	PROPLIST		set		Specify a list of 'zelta match' columns. See 'zelta match -h' or 'zelta help match' for more detail.
match	--written	LIST_WRITTEN		true		Calculate data sizes for datasets and snapshots. Enabled by default, but it can impact list time.
match	--no-written,--nowritten	WRITTEN		false
match	--no-target,--notarget	TGT_ID		false
match	--time	CHECK_TIME		true		Calculate the time of each 'zfs list' operation.

# 'zelta policy' options
policy	--retry	RETRY		true		Retry failed syncs the indicated number of times.
policy	--no-retry,--noretry	RETRY		false
policy	--jobs	JOBS	THREADS	true		Run the indicated number of policy jobs concurrently, one for each Site in the configuration.
policy	--no-threads	JOBS	THREADS	false			
policy	--backup-root	BACKUP_ROOT		set		The relative target path for the target job. For example 'bkhost:tank/Backups' would place backups below that dataset (if not overridden).
policy	--archive-root	ARCHIVE_ROOT		set		NOT YET IMPLEMENTED. The relative target path used for rotated clones.
policy	--host-prefix	HOST_PREFIX		set		Include the source hostname as a parent of the synced target, for example, 'tank/Backups/source.host/backup-dataset'.
policy	--ds-prefix,--prefix	DS_PREFIX	PREFIX	set		Similar to 'zfs recv -d' and '-e', include the indicated number of parent labels for the target's synced name. See 'zelta help backup' for more detail.
policy	--backup-command	BACKUP_COMMAND		set
