#!/bin/ssh command h
#
# zelta.env
#
# These environment variables change zelta's default behavior and
# locations. To function, the PATH must contain the dir with the 
# "zelta" wrapper, and the ZELTA_SHARE dir must contain the awk scripts.
#
# IMPORTANT: ZELTA_AWK, ZELTA_ETC, and ZELTA_ENV must be set as ZELTA_
# prefixed environment variables elsewhere BEFORE running zelta (e.g.,
# in your shell RC or crontab). For example, this file, ZELTA_ENV,
# won't be found if it's not set or not in the default location.
#
# All other variables can be set here for global defaults.
#
# Note that this file should only be used to change the defaults
# globally. Using the ZELTA_ prefix, you can change these values
# in a crontab, script, shell, and other contexts.

# # Set these in your environment (e.g., export ZELTA_AWK="mawk"):
# # ZELTA_AWK (awk executable, must be set before zelta.env is read)
# # ZELTA_ETC (dir for zelta.env and zelta.conf, must be set before)
# # ZELTA_ENV (path to this file, must be set before)
# # ZELTA_SHARE (dir for awk scripts and data files)

# For logging purposes, zelta also looks for $USER and attempts to identify
# the hostname with $HOST, $HOSTNAME, or `hostname`.

# # Change SSH executable. Note that we need `ssh -n` to avoid pipes.
# REMOTE_SEND_COMMAND="ssh -n"
# REMOTE_RECEIVE_COMMAND="ssh"

# # Use the following variable to override the snapshot name.
# # By default, we use "zelta_YYYY-MM-DD_HH.MM.SS".
#
# # IMPORTANT: To use dynamic names (e.g., from 'date'), use the
# # following format: ZELTA_SNAP_NAME="$(your_command)"
# # (Including quotes.)
#
# Examples:
#
# zfsnap style:
# ZELTA_SNAP_NAME="$(date -u +%Y-%m-%d_%H.%M.%S--1m)"
#
# TrueNAS auto style:
# ZELTA_SNAP_NAME="$(date -u +auto-%Y-%m-%d_%H-%M)"
#
# Sanoid autosnap style:
# ZELTA_SNAP_NAME="$(date -u +autosnap_%Y-%m-%d_%H:%M:%S_daily"

# # You can override these Zelta defaults:
# ZELTA_SEND_FLAGS="-Lcpw"
# ZELTA_RECEIVE_FLAGS="-ux mountpoint -o readonly=on"
# ZELTA_INTR_FLAGS="-I"

# # Zelta attempts to detect pv(1) or dd(1) for progress (-p) and pv(1) for 
# # limiting bandwidth (-L ###). You can add a custom filter below which will
# # be used by default. Note that "-vv" may also be required:
#
# # Always use pv for progress and a 10m limit:
# ZELTA_RECEIVE_PREFIX="pv -ptr -L 10m |"
