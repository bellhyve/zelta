.\" generated with Ronn-NG/v0.10.1
.\" http://github.com/apjanke/ronn-ng/tree/0.10.1
.TH "ZELTA\-OPTIONS" "7" "December 2025" ""
.SH "NAME"
\fBzelta\-options\fR \- environment and policy options to modify Zelta behavior
.SH "SYNOPSIS"
Environment variables and policy configuration options for controlling Zelta's behavior across all commands\.
.SH "DESCRIPTION"
Zelta's behavior can be modified through environment variables, command\-line arguments, and policy configuration files\. This manual documents all available options and their effects\.
.P
Options set in the user environment must be prefixed with the string \fBZELTA_\fR\. For example, to override the default \fBzelta\.env\fR, export the variable \fBZELTA_ENV="/path/to/env"\fR\. In other contexts, the \fBZELTA_\fR prefix can be omitted\.
.P
Options follow a hierarchy: 1\. Defaults 2\. \fBzelta\.env\fR 3\. \fBzelta\.conf\fR (\fBzelta policy\fR only) 4\. Environment variables (must prefix names with \fBZELTA_\fR) 5\. Command\-line arguments
.SH "SETUP OPTIONS"
The following options are often modified for user\-specific installations and testing purposes\. Note that if ENV and/or ETC need to be overridden this must typically be done in the user environment using \fBZELTA_ENV\fR and \fBZELTA_ETC\fR respectively\.
.TP
\fBAWK\fR
The \fI*awk\fR executable\. The default is the awk in the path\. Example: \fBAWK='mawk \-Wi'\fR\.
.TP
\fBSHARE\fR
The location of Zelta assets including the AWK scripts and data files\. The default is \fB/usr/local/share/zelta\fR
.TP
\fBETC\fR
The location of \fBzelta\.env\fR and \fBzelta\.conf\fR\. The default is \fB/usr/local/etc/zelta\fR\.
.TP
\fBENV\fR
The exact path of \fBzelta\.env\fR\.
.TP
\fBDOC\fR
The location of Zelta's manpages\. Default is unset, using the system\-wide manual\.
.SH "LOGGING OPTIONS"
.TP
\fBLOG_FILE\fR
Divert all output into the indicated file\.
.TP
\fBLOG_LEVEL\fR
Specify a log level value 0\-4: errors (0), warnings (1), notices (2, default), info (3, verbose), and debug (4)\.
.TP
\fBLOG_MODE\fR
Enable the specified log modes\. Currently supported: 'text' (default) and 'json' (\fBzelta backup\fR related verbs only)\.
.SH "SSH OPTIONS"
.TP
\fBREMOTE_COMMAND\fR
The remote shell command\. Defaults to \fBssh\fR\.
.TP
\fBREMOTE_DEFAULT\fR
The default remote shell command used for misc operations which should prevent reading from stdin\. Defaults to \fBREMOTE_COMMAND \-n\fR (\fBssh \-n\fR)\.
.TP
\fBREMOTE_SEND\fR
The remote shell command used for \fBzfs send\fR\. Defaults to \fBREMOTE_COMMAND\fR (\fBssh\fR)\.
.TP
\fBREMOTE_RECV\fR
The remote shell command used for \fBzfs recv\fR\. Defaults to \fBREMOTE_DEFAULT\fR (\fBssh \-n\fR)\.
.SH "GENERAL OPTIONS"
.TP
\fBDEPTH\fR
Limit the recursion depth of operations to the number of levels indicated\. For example, a depth of 1 will only include the indicated \fIsource\fR dataset\.
.TP
\fBEXCLUDE\fR
Exclude a comma\-delimited list of dataset suffixes anchored with a \fB/\fR, like \fB/dataset/suffix\fR, or snapshots anchored with a \fB@\fR, like \fB@snapshot\fR\. Wild card matches with \fB?\fR and \fB*\fR are permitted\. Given a \fIsource\fR endpoint \fBsink\fR and the setting: \fBEXCLUDE='/*/swap,#*,@*_hourly,/temp'\fR:
.IP
\fB@*_hourly\fR: All snapshots ending with \fB_hourly\fR would be excluded as sync candidates\.
.IP
\fB/*/swap\fR: All datasets ending with \fB/swap\fR will be ignored\.
.IP
\fB/temp\fR: The \fBsink/temp\fR dataset will be ignored; however a \fBsink/ds/temp\fR would still be synced\.
.SH "ZELTA MATCH OPTIONS"
.TP
\fBSCRIPTING_MODE\fR
Suppress column headers and separate columns with a single tab\. Useful for parsing output in scripts\.
.TP
\fBPARSABLE\fR
Output sizes in exact numbers instead of human\-readable values like \fB1M\fR\.
.TP
\fBPROPLIST\fR
Specify a list of \fBzelta match\fR columns\. See \fBzelta match \-h\fR or \fBzelta help match\fR for more detail\.
.TP
\fBLIST_WRITTEN\fR
Calculate data sizes for datasets and snapshots in the summary\. Enabled by default\.
.TP
\fBCHECK_TIME\fR
Calculate the time of each \fBzfs list\fR operation\.
.SH "ZFS SEND/RECEIVE OPTIONS"
.TP
\fBSEND_OVERRIDE\fR
Override all \fBzfs send\fR options with those indicated\. For precise and flexible configuration for different circumstances, use the \fBSEND_*\fR variables below instead\.
.TP
\fBSEND_DEFAULT\fR
Options used for unencrpyted filesystems and volumes\. Defaults to \fB\-Lce\fR\.
.TP
\fBSEND_RAW\fR
Options used for encrypted datasets\. Defaults to \fB\-Lw\fR\.
.TP
\fBSEND_NEW\fR
Additional option used for new datasets\. Defaults to \fB\-p\fR\.
.TP
\fBSEND_INTR\fR
Toggle option to transmit intermediate snapshots (\fB1\fR, the default) or incremental (\fB0\fR)\.
.TP
\fBSEND_REPLICATE\fR
Options to use in \fBzelta replicate\fR mode\. Defaults to \fB\-LsRw1\fR\.
.TP
\fBSEND_CHECK\fR
Attempt to drop unsupported \fBzfs send\fR options using a no\-op test prior to replication\. This feature is not fully implemented\.
.TP
\fBRECV_OVERRIDE\fR
Override all \fBzfs receive\fR options with those indicated\. For precise and flexible configuration, use the \fBRECV_*\fR variables instead\.
.TP
\fBRECV_DEFAULT\fR
Default \fBzfs recv\fR options\. Defaults to none\.
.TP
\fBRECV_TOP\fR
Additional options for the top dataset\. Defaults to \fB\-o readonly=on\fR\.
.TP
\fBRECV_FS\fR
Additional options for filesystems\. Defaults to \fB\-u \-x mountpoint \-o canmount=noauto\fR\.
.TP
\fBRECV_VOL\fR
Additional options for volumes\. Defaults to none\.
.TP
\fBRECV_PARTIAL\fR
Additional options if RESUME is enabled\. Defaults to \fB\-s\fR\.
.TP
\fBRECV_PREFIX\fR
Pipe output through the indicated command, such as \fBdd status=progress\fR\.
.TP
\fBRESUME\fR
Enable (\fB1\fR, the default) or disable automatic resume of interrupted syncs\.
.SH "REPLICATION OPTIONS"
.TP
\fBSNAP_NAME\fR
Specify a snapshot name\. Use the form \fB$(my_snapshot_program)\fR to use a dynamically generated snapshot\. The default is \fB$(date \-u +zelta_%Y\-%m\-%d_%H\.%M\.%S)\fR\.
.TP
\fBSNAP_MODE\fR
Specify when to snapshot during a \fBzelta backup\fR operation\. Options: \fB0\fR (never), \fBIF_NEEDED\fR (default, only if source has new data), or \fBALWAYS\fR\.
.TP
\fBSYNC_DIRECTION\fR
If both endpoints are remote, use \fBPULL\fR (the default) or \fBPUSH\fR sync\. If set to \fB0\fR, traffic will stream through the local host\. Note that this feature PUSH and PULL features require appropriate ssh configurations with keys properly installed and/or ssh agent forwarding enabled\.
.SH "CLONE OPTIONS"
.TP
\fBCLONE_DEFAULT\fR
Options for recursive cloning\. Defaults to \fB\-po readonly=off\fR\.
.SH "POLICY OPTIONS"
.TP
\fBRETRY\fR
Retry failed syncs the indicated number of times\.
.TP
\fBJOBS\fR
Run the indicated number of policy jobs concurrently, one for each Site in the configuration\.
.TP
\fBBACKUP_ROOT\fR
The relative target path for backup jobs\. For example, \fBbkhost:tank/Backups\fR would place backups below that dataset (if not overridden by policy)\.
.TP
\fBARCHIVE_ROOT\fR
NOT YET IMPLEMENTED\. The relative target path used for rotated clones\.
.TP
\fBHOST_PREFIX\fR
Include the source hostname as a parent of the synced target, for example, \fBtank/Backups/source\.host/backup\-dataset\fR\.
.TP
\fBDS_PREFIX\fR
Similar to \fBzfs recv \-d\fR and \fB\-e\fR, include the indicated number of parent labels for the target's synced name\. See \fBzelta help backup\fR for more detail\.
.SH "SEE ALSO"
\fBzelta(8)\fR, \fBzelta\-backup\fR, \fBzelta\-clone(8)\fR, \fBzelta\-match(8)\fR, \fBzelta\-policy(8)\fR, \fBzelta\-rotate(8)\fR, \fBzelta\-sync(8)\fR, \fBcron(1)\fR, \fBssh(1)\fR, \fBzfs(8)\fR
.SH "AUTHORS"
Daniel J\. Bell \fIbellhyve@zelta\.space\fR
.SH "WWW"
https://zelta\.space
.P
https://github\.com/bellhyve/zelta
